<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão Fácil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/geralcss/style.css">
    <link rel="shortcut icon" href="assets/icon.png" type="image/x-icon">
</head>

<body>
    <header>

        <a href="geral.html"><img src="assets/logobranca.png" alt="gestao-facil"></a>

        <nav class="nav-bar">
            <ul>
                <li><a href="geral.html" th:href="@{/geral}">visão geral</a></li>
                <li><a href="historico.html" th:href="@{/historico}">histórico</a></li>
                <li><a href="graficos.html">gráficos</a></li>
                <li><a href="relatorios.html" th:href="@{/relatorios}">relátorios</a></li>
            </ul>
        </nav>

        <nav class="navbar-conta">
            <ul>
                <li><a href="#"><img src="assets/PersonCircle.png" alt="icon-pessoa"></a></li>
            </ul>
        </nav>

    </header>

    <section class="secao1">

        <div class="container1">

            <div class="dashboard">
                <h2 id="saudacao"></h2>
                <a href="#"><img src="assets/graph-up.svg" alt="icon"></a>
            </div>

            <!-- AQUI SERIAM INFORMAÇÕES DE SALDO E DESPESA DO USUÁRIO -->
            <!-- <div class="receitas">
                <p>receita atual</p>
                <p>despesa atual</p>
            </div>

            <div class="valores">
                <p class="valor-receita">R$ 0,00</p>
                <p class="valor-despesa">R$ 0,00</p>
            </div> -->

        </div>

        <div class="container2">
            <div class="dashboard2">
                <h2 class="open-modal" data-modal="modal-form">Criar novo gráfico</h2>
            </div>

            <!-- AQUI SERIAM BOTÕES DE ADICIONAR VALORES -->
            <!-- <div class="botoes-dash">
                <p class="btn-despesa"><i class="bi bi-dash-circle"></i>despesa</p>
                <p class="btn-receita"><i class="bi bi-plus-circle"></i>receita</p>
            </div> -->
        </div>

    </section>

    <!--CRIAÇÃO MODAL-->
    <dialog id="modal-form">

        <form id="graficoForm">

            <div class="modal-header">

                <h1 class="modal-title">Nome do Gráfico:</h1>
                <input type="text" id="chart-name" name="chartName" required placeholder="Digite o nome do Gráfico" />

            </div>
            <div class="btn-close-modal">
                <button class="close-modal" data-modal="modal-form" type="button"><i
                        class="bi bi-x-square-fill"></i></button>
            </div>

            <div class="modal-body">

                <label for="number">Valor R$:</label>
                <input type="number" name="number" id="chart-number" required placeholder="Insira um valor inicial">

                <label for="tipo">Tipo:</label>
                <select name="tipo" id="chart-tipo">
                    <option value="Casa">Casa</option>
                    <option value="Poupança e Investimentos">Poupança e Investimentos</option>
                    <option value="Lazer">Lazer</option>
                    <option value="Salário">Salário</option>
                    <option value="Outros">Outros</option>
                </select>

            </div>

            </div>
            <button id="save-button" type="submit">Salvar</button>
        </form>


    </dialog>
    <!--CRIAÇÃO MODAL-->


    <section class="secao2">

        <div class="grafico-geral">

            <div class="infos-gerais">
                <h3>Balanço Geral</h3>
                <p class="valor-geral">R$ 0,00</p>
            </div>

            <div class="infos-gerais2">
                <h3>Gráfico Geral</h3>
                <img src="assets/Image.png" alt="grafico">
            </div>

        </div>


    </section>

    <!-- SESSION STORAGE -->
    <script>
        document.getElementById('graficoForm').addEventListener('submit', function (event) {
            // Previne o recarregamento da página
            event.preventDefault();

            // Pega os valorea
            const chartName = document.getElementById('chart-name').value;
            const chartValue = document.getElementById('chart-number').value;
            const chartType = document.getElementById('chart-tipo').value;

            // Salva os três valores no sessionStorage
            sessionStorage.setItem('demoChartName', chartName);
            sessionStorage.setItem('demoChartValue', chartValue);
            sessionStorage.setItem('demoChartType', chartType);

            // Redireciona para a página do gráfico
            window.location.href = 'graficos.html';
        });
    </script>

    <!-- SCRIPT TOGGLE -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const header = document.querySelector('header');
            // Seleciona todos os elementos de navegação que devem ser parte do menu
            const navElements = document.querySelectorAll('.nav-bar, .navbar-conta');
            const menuToggleButton = document.createElement('button');

            menuToggleButton.classList.add('menu-toggle');
            menuToggleButton.innerHTML = '<span class="bar"></span><span class="bar"></span><span class="bar"></span>';

            // Adiciona o botão ao final do header
            header.appendChild(menuToggleButton);

            // Adiciona o evento de clique ao botão
            menuToggleButton.addEventListener('click', function () {
                this.classList.toggle('active');
                // Adiciona/remove a classe 'active' de todos os elementos do menu
                navElements.forEach(function (nav) {
                    nav.classList.toggle('active');
                });
            });
        });
    </script>


    <script th:src="@{/js/modal-saudacao.js}" src="../static/js/modal-saudacao.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
        crossorigin="anonymous"></script>
</body>

</html>